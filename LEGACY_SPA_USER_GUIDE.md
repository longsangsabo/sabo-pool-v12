# ğŸ† HÆ°á»›ng Dáº«n Claim SPA Legacy Points - SABO Arena

## ğŸ“‹ Tá»•ng Quan
Há»‡ thá»‘ng Legacy SPA Points cho phÃ©p 45 ngÆ°á»i chÆ¡i tá»« BXH SPA cÅ© claim láº¡i Ä‘iá»ƒm sá»‘ cá»§a mÃ¬nh vÃ o tÃ i khoáº£n má»›i trÃªn SABO Arena.

### ğŸ’¡ ThÃ´ng Tin Quan Trá»ng
- **Tá»•ng cá»™ng**: 45 legacy players cÃ³ thá»ƒ claim
- **PhÆ°Æ¡ng thá»©c xÃ¡c thá»±c**: Facebook URL
- **Chá»‰ claim 1 láº§n**: Má»—i legacy player chá»‰ cÃ³ thá»ƒ claim 1 láº§n duy nháº¥t
- **KhÃ´ng chuyá»ƒn nhÆ°á»£ng**: SPA points khÃ´ng thá»ƒ chuyá»ƒn cho ngÆ°á»i khÃ¡c

---

## ğŸ‘¤ HÆ¯á»šNG DáºªN CHO USER

### BÆ°á»›c 1: Táº¡o TÃ i Khoáº£n
1. **Truy cáº­p website**: http://localhost:8080
2. **ÄÄƒng kÃ½ tÃ i khoáº£n má»›i**:
   - Click nÃºt "ÄÄƒng kÃ½" hoáº·c "Sign Up"
   - Nháº­p email vÃ  máº­t kháº©u
   - XÃ¡c nháº­n email (náº¿u cáº§n)
   - HoÃ n táº¥t Ä‘Äƒng kÃ½

### BÆ°á»›c 2: Kiá»ƒm Tra Danh SÃ¡ch Legacy
1. **Xem BXH Legacy**: 
   - VÃ o `/leaderboard`
   - Chá»n tab "SPA Leaderboard"
   - TÃ¬m tÃªn cá»§a báº¡n trong danh sÃ¡ch 45 players

2. **Top Legacy Players**:
   ```
   1.  ÄÄ‚NG RT - 3,600 SPA
   2.  KHÃNH HOÃ€NG - 3,500 SPA  
   3.  THÃ™Y LINH - 3,450 SPA
   4.  BEN HUYNH - 2,300 SPA
   5.  TRÆ¯á»œNG PHÃšC - 2,300 SPA
   ... vÃ  40 players khÃ¡c
   ```

### BÆ°á»›c 3: Claim SPA Points
1. **VÃ o Profile**:
   - Click vÃ o avatar/tÃªn cá»§a báº¡n
   - Hoáº·c vÃ o `/profile`

2. **TÃ¬m pháº§n Legacy SPA**:
   - Scroll xuá»‘ng tÃ¬m tab "Legacy SPA Claim"
   - Hoáº·c tÃ¬m section "Claim SPA Legacy"

3. **Nháº­p thÃ´ng tin**:
   - **TÃªn Ä‘áº§y Ä‘á»§**: Nháº­p chÃ­nh xÃ¡c tÃªn trong BXH (VD: "ÄÄ‚NG RT")
   - **Facebook URL**: Nháº­p link Facebook cá»§a báº¡n
   - Há»‡ thá»‘ng sáº½ tá»± Ä‘á»™ng gá»£i Ã½ khi báº¡n gÃµ

4. **XÃ¡c nháº­n vÃ  Submit**:
   - Kiá»ƒm tra thÃ´ng tin chÃ­nh xÃ¡c
   - Click "Claim Legacy SPA Points"
   - Äá»£i xÃ¡c nháº­n tá»« admin

### BÆ°á»›c 4: Theo DÃµi Tráº¡ng ThÃ¡i
- **Chá» duyá»‡t**: Admin sáº½ kiá»ƒm tra vÃ  phÃª duyá»‡t trong 24-48h
- **ThÃ´ng bÃ¡o**: Báº¡n sáº½ nháº­n thÃ´ng bÃ¡o khi Ä‘Æ°á»£c approve
- **SPA Points**: Äiá»ƒm sáº½ Ä‘Æ°á»£c cá»™ng vÃ o tÃ i khoáº£n ngay sau khi approve

---

## ğŸ›¡ï¸ HÆ¯á»šNG DáºªN CHO ADMIN

### BÆ°á»›c 1: Truy Cáº­p Admin Dashboard
1. **ÄÄƒng nháº­p vá»›i tÃ i khoáº£n admin**
2. **VÃ o Admin Dashboard**: `/admin`
3. **Chá»n tab "Legacy SPA Management"**

### BÆ°á»›c 2: Quáº£n LÃ½ Claim Requests
1. **Xem danh sÃ¡ch requests**:
   - Táº¥t cáº£ claim requests sáº½ hiá»ƒn thá»‹ vá»›i tráº¡ng thÃ¡i "Pending"
   - ThÃ´ng tin: TÃªn, Facebook URL, SPA Points, User ID

2. **XÃ¡c thá»±c thÃ´ng tin**:
   ```
   âœ… Kiá»ƒm tra:
   - TÃªn cÃ³ Ä‘Ãºng trong database legacy khÃ´ng?
   - Facebook URL cÃ³ khá»›p vá»›i thÃ´ng tin gá»‘c?
   - User cÃ³ pháº£i chÃ­nh chá»§ tÃ i khoáº£n Facebook?
   - Legacy player nÃ y Ä‘Ã£ Ä‘Æ°á»£c claim chÆ°a?
   ```

### BÆ°á»›c 3: Approve/Reject Claims
1. **Approve (PhÃª duyá»‡t)**:
   - Click nÃºt "Approve" mÃ u xanh
   - SPA points sáº½ tá»± Ä‘á»™ng Ä‘Æ°á»£c cá»™ng vÃ o tÃ i khoáº£n user
   - Tráº¡ng thÃ¡i legacy player chuyá»ƒn thÃ nh "Claimed"

2. **Reject (Tá»« chá»‘i)**:
   - Click nÃºt "Reject" mÃ u Ä‘á»
   - Nháº­p lÃ½ do tá»« chá»‘i (VD: "Sai thÃ´ng tin Facebook")
   - User cÃ³ thá»ƒ claim láº¡i vá»›i thÃ´ng tin Ä‘Ãºng

### BÆ°á»›c 4: Theo DÃµi vÃ  BÃ¡o CÃ¡o
1. **Thá»‘ng kÃª real-time**:
   - Tá»•ng claims: X/45
   - Pending: X requests
   - Approved: X claims
   - Rejected: X claims

2. **Xuáº¥t bÃ¡o cÃ¡o**:
   - Danh sÃ¡ch Ä‘Ã£ claim
   - Danh sÃ¡ch chÆ°a claim
   - Log activities

---

## ğŸ”§ TROUBLESHOOTING

### Lá»—i ThÆ°á»ng Gáº·p - USER
1. **"KhÃ´ng tÃ¬m tháº¥y tÃªn trong database"**:
   - Kiá»ƒm tra chÃ­nh táº£ tÃªn (cÃ³ thá»ƒ cÃ³ dáº¥u, viáº¿t hoa/thÆ°á»ng)
   - TÃªn pháº£i khá»›p 100% vá»›i BXH legacy

2. **"Legacy player Ä‘Ã£ Ä‘Æ°á»£c claim"**:
   - NgÆ°á»i khÃ¡c Ä‘Ã£ claim trÆ°á»›c
   - LiÃªn há»‡ admin Ä‘á»ƒ kiá»ƒm tra

3. **"Facebook URL khÃ´ng há»£p lá»‡"**:
   - URL pháº£i cÃ³ format: `https://www.facebook.com/username`
   - KhÃ´ng dÃ¹ng link mobile (m.facebook.com)

### Lá»—i ThÆ°á»ng Gáº·p - ADMIN
1. **KhÃ´ng thá»ƒ approve claim**:
   - Kiá»ƒm tra database connection
   - Refresh page vÃ  thá»­ láº¡i

2. **Legacy data khÃ´ng hiá»ƒn thá»‹**:
   - Kiá»ƒm tra migration Ä‘Ã£ cháº¡y Ä‘Ãºng chÆ°a
   - Verify 45 records trong `legacy_spa_points` table

---

## ğŸ“Š DATABASE QUERIES Há»®U ÃCH (CHO ADMIN)

### Kiá»ƒm tra Legacy Data
```sql
-- Xem táº¥t cáº£ legacy players
SELECT full_name, spa_points, claimed, claimed_at 
FROM legacy_spa_points 
ORDER BY spa_points DESC;

-- Äáº¿m sá»‘ claims
SELECT 
  COUNT(*) as total_players,
  SUM(CASE WHEN claimed THEN 1 ELSE 0 END) as claimed_count,
  SUM(CASE WHEN NOT claimed THEN 1 ELSE 0 END) as unclaimed_count
FROM legacy_spa_points;
```

### Kiá»ƒm tra User Claims
```sql
-- Xem user nÃ o cÃ³ SPA points
SELECT p.display_name, pr.spa_points, p.email
FROM profiles p
JOIN player_rankings pr ON p.user_id = pr.player_id
WHERE pr.spa_points > 0
ORDER BY pr.spa_points DESC;
```

---

## ğŸš¨ LÆ¯U Ã QUAN TRá»ŒNG

### Cho User:
- âš ï¸ **Chá»‰ claim 1 láº§n**: KhÃ´ng thá»ƒ claim láº¡i sau khi Ä‘Ã£ thÃ nh cÃ´ng
- âš ï¸ **ThÃ´ng tin chÃ­nh xÃ¡c**: Sai thÃ´ng tin sáº½ bá»‹ tá»« chá»‘i
- âš ï¸ **Facebook cÃ´ng khai**: Äáº£m báº£o Facebook profile cÃ³ thá»ƒ truy cáº­p Ä‘Æ°á»£c

### Cho Admin:
- âš ï¸ **Kiá»ƒm tra ká»¹**: Má»™t khi approve thÃ¬ khÃ´ng thá»ƒ hoÃ n tÃ¡c
- âš ï¸ **Backup dá»¯ liá»‡u**: ThÆ°á»ng xuyÃªn backup database
- âš ï¸ **Log activities**: Ghi láº¡i má»i thao tÃ¡c approve/reject

---

## ğŸ“ SUPPORT

### Cho User:
- **Technical Issues**: LiÃªn há»‡ admin qua website
- **Claim Problems**: Submit request vÃ  Ä‘á»£i admin review
- **Facebook Issues**: Äáº£m báº£o profile public vÃ  URL Ä‘Ãºng

### Cho Admin:
- **Database Issues**: Check Supabase dashboard
- **Migration Problems**: Re-run migration scripts
- **Performance Issues**: Monitor server logs

---

*HÆ°á»›ng dáº«n nÃ y Ä‘Æ°á»£c cáº­p nháº­t vÃ o ngÃ y 10/08/2025. Má»i thay Ä‘á»•i sáº½ Ä‘Æ°á»£c thÃ´ng bÃ¡o qua website.*
