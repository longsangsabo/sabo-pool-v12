{
  "typescript_files": [
    "/workspaces/sabo-pool-v12/vite.config.ts",
    "/workspaces/sabo-pool-v12/e2e/ranking.spec.ts",
    "/workspaces/sabo-pool-v12/e2e/payment.spec.ts",
    "/workspaces/sabo-pool-v12/e2e/tournament.spec.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/sabo-match-updates/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/database-optimization/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/payment-callback/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/create-payment/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/rank-request-notification/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/send-score-confirmation-email/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/auto-translate/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/milestone-triggers/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/multi-channel-notification/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/send-notification/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/auto-rank-promotion/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/_shared/cors.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/challenge-score-update/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/generate-tournament-bracket/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/spa-data-sync/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/create-club-payment/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/milestone-event/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/tournament-reminder-system/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/tournament-automation/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/ai-alert-analyzer/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/database-health-monitoring/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/create-tournament-payment/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/file-cleanup/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/tournament-data-sync/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/auto-cleanup-challenges/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/inactive-player-cleanup/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/database-health-check/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/analytics-refresh/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/sync-club-data/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/ai-admin-assistant/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/unified-notification-system/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/table-assignment/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/admin-system-reset/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/daily-checkin/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/ai-user-assistant/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/sync-tournament-rewards/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/generate-receipt/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/create-admin-user/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/scheduled-file-cleanup/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/notify-club-members/index.ts",
    "/workspaces/sabo-pool-v12/supabase/functions/weekly-reset/index.ts",
    "/workspaces/sabo-pool-v12/src/App.tsx",
    "/workspaces/sabo-pool-v12/lib/hooks/useCompleteTournament.ts",
    "/workspaces/sabo-pool-v12/vitest.config.ts",
    "/workspaces/sabo-pool-v12/sabo-pool-arena-hub-main/src/pages/Dashboard.tsx",
    "/workspaces/sabo-pool-v12/shared.package.config.ts"
  ],
  "table_references": {
    "profiles": [
      "/workspaces/sabo-pool-v12/supabase/functions/rank-request-notification/index.ts:          .from('profiles')",
      "/workspaces/sabo-pool-v12/supabase/functions/rank-request-notification/index.ts:          .from('club_profiles')",
      "/workspaces/sabo-pool-v12/supabase/functions/auto-rank-promotion/index.ts:      .from('profiles')",
      "/workspaces/sabo-pool-v12/supabase/functions/database-health-monitoring/index.ts:        .from('profiles')",
      "/workspaces/sabo-pool-v12/supabase/functions/database-health-monitoring/index.ts:      await supabase.from('profiles').select('id').limit(1);",
      "/workspaces/sabo-pool-v12/supabase/functions/database-health-monitoring/index.ts:        .from('profiles')",
      "/workspaces/sabo-pool-v12/supabase/functions/file-cleanup/index.ts:    .from('profiles')",
      "/workspaces/sabo-pool-v12/supabase/functions/inactive-player-cleanup/index.ts:          .from('profiles')",
      "/workspaces/sabo-pool-v12/supabase/functions/inactive-player-cleanup/index.ts:      .from('profiles')",
      "/workspaces/sabo-pool-v12/supabase/functions/database-health-check/index.ts:      supabase.from('profiles').select('count', { count: 'exact', head: true }),"
    ],
    "users": [
      "/workspaces/sabo-pool-v12/packages/shared-auth/src/auth-service.ts:      .from('users')",
      "/workspaces/sabo-pool-v12/packages/shared-auth/src/auth-service.ts:      .from('users')",
      "/workspaces/sabo-pool-v12/packages/shared-auth/src/auth-service.ts:      .from('users')",
      "/workspaces/sabo-pool-v12/apps/sabo-user/src/hooks/useChallenges.tsx:   // âœ… CRITICAL FIX: Fetch ALL challenges including open ones from other users"
    ],
    "user_roles": [
      "/workspaces/sabo-pool-v12/apps/sabo-user/src/hooks/useAuth.tsx:      .from('user_roles')"
    ],
    "user_preferences": [],
    "challenges": [
      "/workspaces/sabo-pool-v12/supabase/functions/sabo-match-updates/index.ts:      .from('sabo_challenges')",
      "/workspaces/sabo-pool-v12/supabase/functions/sabo-match-updates/index.ts:      .from('sabo_challenges')",
      "/workspaces/sabo-pool-v12/supabase/functions/challenge-score-update/index.ts:      .from('challenges')",
      "/workspaces/sabo-pool-v12/supabase/functions/inactive-player-cleanup/index.ts:      .from('challenges')",
      "/workspaces/sabo-pool-v12/supabase/functions/inactive-player-cleanup/index.ts:          .from('challenges')",
      "/workspaces/sabo-pool-v12/supabase/functions/admin-system-reset/index.ts:    .from('challenges')",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/challenge/challenge-system.ts:        .from('challenges')",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/challenge/challenge-system.ts:        .from('challenges')",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/challenge/challenge-system.ts:        .from('challenges')",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/challenge/challenge-system.ts:          .from('challenges')"
    ],
    "challenge_participants": [],
    "game_sessions": [],
    "shots": [],
    "tournaments": [
      "/workspaces/sabo-pool-v12/supabase/functions/generate-tournament-bracket/index.ts:      .from('tournaments')",
      "/workspaces/sabo-pool-v12/supabase/functions/generate-tournament-bracket/index.ts:      .from('tournaments')",
      "/workspaces/sabo-pool-v12/supabase/functions/generate-tournament-bracket/index.ts:      .from('tournaments')",
      "/workspaces/sabo-pool-v12/supabase/functions/tournament-reminder-system/index.ts:      .from('tournaments')",
      "/workspaces/sabo-pool-v12/supabase/functions/database-health-monitoring/index.ts:        .from('tournaments')",
      "/workspaces/sabo-pool-v12/supabase/functions/create-tournament-payment/index.ts:      .from('tournaments')",
      "/workspaces/sabo-pool-v12/supabase/functions/file-cleanup/index.ts:    .from('tournaments')",
      "/workspaces/sabo-pool-v12/supabase/functions/tournament-data-sync/index.ts:    .from('tournaments')",
      "/workspaces/sabo-pool-v12/supabase/functions/tournament-data-sync/index.ts:      .from('tournaments')",
      "/workspaces/sabo-pool-v12/supabase/functions/tournament-data-sync/index.ts:          .from('tournaments')"
    ],
    "tournament_brackets": [
      "/workspaces/sabo-pool-v12/supabase/functions/tournament-data-sync/index.ts:      .from('tournament_brackets')",
      "/workspaces/sabo-pool-v12/apps/sabo-user/src/components/tournament/BracketVisualization.tsx:    .from('tournament_brackets')",
      "/workspaces/sabo-pool-v12/apps/sabo-user/src/lib/tournament-backend-logic.ts:      .from('tournament_brackets')",
      "/workspaces/sabo-pool-v12/apps/sabo-user/src/hooks/useBracketGeneration.tsx:    .from('tournament_brackets')",
      "/workspaces/sabo-pool-v12/apps/sabo-user/src/hooks/useTournamentUtils.tsx:    .from('tournament_brackets')",
      "/workspaces/sabo-pool-v12/database-management/archive/functions_20250831_041233/tournament-data-sync/index.ts:      .from('tournament_brackets')"
    ],
    "tournament_registrations": [
      "/workspaces/sabo-pool-v12/supabase/functions/generate-tournament-bracket/index.ts:      .from('tournament_registrations')",
      "/workspaces/sabo-pool-v12/supabase/functions/tournament-reminder-system/index.ts:          .from('tournament_registrations')",
      "/workspaces/sabo-pool-v12/supabase/functions/database-health-monitoring/index.ts:        .from('tournament_registrations')",
      "/workspaces/sabo-pool-v12/supabase/functions/create-tournament-payment/index.ts:      .from('tournament_registrations')",
      "/workspaces/sabo-pool-v12/supabase/functions/inactive-player-cleanup/index.ts:      .from('tournament_registrations')",
      "/workspaces/sabo-pool-v12/supabase/functions/inactive-player-cleanup/index.ts:            .from('tournament_registrations')",
      "/workspaces/sabo-pool-v12/supabase/functions/unified-notification-system/index.ts:    .from('tournament_registrations')",
      "/workspaces/sabo-pool-v12/supabase/functions/unified-notification-system/index.ts:    .from('tournament_registrations')",
      "/workspaces/sabo-pool-v12/supabase/functions/notify-club-members/index.ts:      .from('tournament_registrations')",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/tournament/TournamentAPIService.ts:        .from('tournament_registrations')"
    ],
    "clubs": [
      "/workspaces/sabo-pool-v12/supabase/functions/sync-club-data/index.ts:        .from('clubs')",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/club/club-verification.ts:        .from('clubs')",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/club/club-verification.ts:        .from('clubs')",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/club/club-management.ts:        .from('clubs')",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/club/club-management.ts:        .from('clubs')",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/club/club-management.ts:        .from('clubs')",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/club/club-management.ts:        .from('clubs')",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/club/club-management.ts:        .from('clubs')",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/analytics/analytics-system.ts:        .from('clubs')",
      "/workspaces/sabo-pool-v12/apps/sabo-user/src/utils/relationshipAutoFix.ts:    description: 'Fixed table name from clubs to club_profiles',"
    ],
    "club_members": [
      "/workspaces/sabo-pool-v12/packages/shared-business/src/admin/admin-system.ts:        .from('club_members')",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/club/club-management.ts:        .from('club_members')",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/club/club-management.ts:        .from('club_members')",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/club/club-management.ts:        .from('club_members')",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/club/club-management.ts:        .from('club_members')",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/club/club-management.ts:        .from('club_members')",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/club/club-management.ts:        .from('club_members')",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/club/club-management.ts:        .from('club_members')",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/club/club-management.ts:        .from('club_members')",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/notification/notification-system.ts:        .from('club_members')"
    ],
    "club_settings": [
      "/workspaces/sabo-pool-v12/packages/shared-business/src/club/club-management.ts:        .from('club_settings')",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/club/club-management.ts:        .from('club_settings')"
    ],
    "wallets": [
      "/workspaces/sabo-pool-v12/supabase/functions/database-health-check/index.ts:      supabase.from('wallets').select('count', { count: 'exact', head: true }),",
      "/workspaces/sabo-pool-v12/supabase/functions/admin-system-reset/index.ts:      .from('wallets')",
      "/workspaces/sabo-pool-v12/apps/sabo-user/src/components/WalletBalance.tsx:     .from('wallets')",
      "/workspaces/sabo-pool-v12/apps/sabo-user/src/components/mobile/MobileHeader.tsx:    .from('wallets')",
      "/workspaces/sabo-pool-v12/database-management/archive/functions_20250831_041233/database-health-check/index.ts:      supabase.from('wallets').select('count', { count: 'exact', head: true }),",
      "/workspaces/sabo-pool-v12/database-management/archive/functions_20250831_041233/admin-system-reset/index.ts:      .from('wallets')"
    ],
    "wallet_transactions": [],
    "payment_transactions": [
      "/workspaces/sabo-pool-v12/supabase/functions/payment-callback/index.ts:      .from('payment_transactions')",
      "/workspaces/sabo-pool-v12/supabase/functions/payment-callback/index.ts:        .from('payment_transactions')",
      "/workspaces/sabo-pool-v12/supabase/functions/payment-callback/index.ts:        .from('payment_transactions')",
      "/workspaces/sabo-pool-v12/supabase/functions/create-club-payment/index.ts:      .from('payment_transactions')",
      "/workspaces/sabo-pool-v12/supabase/functions/generate-receipt/index.ts:      .from('payment_transactions')",
      "/workspaces/sabo-pool-v12/database-management/archive/functions_20250831_041233/payment-callback/index.ts:      .from('payment_transactions')",
      "/workspaces/sabo-pool-v12/database-management/archive/functions_20250831_041233/payment-callback/index.ts:        .from('payment_transactions')",
      "/workspaces/sabo-pool-v12/database-management/archive/functions_20250831_041233/payment-callback/index.ts:        .from('payment_transactions')",
      "/workspaces/sabo-pool-v12/database-management/archive/functions_20250831_041233/create-club-payment/index.ts:      .from('payment_transactions')",
      "/workspaces/sabo-pool-v12/database-management/archive/functions_20250831_041233/generate-receipt/index.ts:      .from('payment_transactions')"
    ],
    "ranks": [
      "/workspaces/sabo-pool-v12/supabase/functions/auto-rank-promotion/index.ts:          `ðŸŽ‰ Successfully promoted player ${player.user_id} from ${player.ranks?.code} to next rank`",
      "/workspaces/sabo-pool-v12/supabase/functions/database-health-check/index.ts:      supabase.from('ranks').select('count', { count: 'exact', head: true }),",
      "/workspaces/sabo-pool-v12/supabase/functions/create-admin-user/index.ts:            .from('ranks')",
      "/workspaces/sabo-pool-v12/supabase/functions/create-admin-user/index.ts:            .from('ranks')",
      "/workspaces/sabo-pool-v12/supabase/functions/create-admin-user/index.ts:      .from('ranks')",
      "/workspaces/sabo-pool-v12/apps/sabo-user/src/hooks/useGameConfigStats.ts:          supabase.from('ranks').select('*', { count: 'exact', head: true }),",
      "/workspaces/sabo-pool-v12/apps/sabo-user/src/hooks/useRankDefinitions.ts:        .from('ranks')",
      "/workspaces/sabo-pool-v12/apps/sabo-user/src/hooks/useRankDefinitions.ts:        .from('ranks')",
      "/workspaces/sabo-pool-v12/apps/sabo-user/src/hooks/useRankDefinitions.ts:        .from('ranks')",
      "/workspaces/sabo-pool-v12/apps/sabo-user/src/hooks/useRankDefinitions.ts:      const { error } = await supabase.from('ranks').delete().eq('id', id);"
    ],
    "rank_requirements": [],
    "ranking_history": [
      "/workspaces/sabo-pool-v12/supabase/functions/auto-rank-promotion/index.ts:          await supabase.from('ranking_history').insert({",
      "/workspaces/sabo-pool-v12/database-management/archive/functions_20250831_041233/auto-rank-promotion/index.ts:          await supabase.from('ranking_history').insert({"
    ],
    "notifications": [
      "/workspaces/sabo-pool-v12/supabase/functions/payment-callback/index.ts:        await supabase.from('notifications').insert({",
      "/workspaces/sabo-pool-v12/supabase/functions/payment-callback/index.ts:        await supabase.from('notifications').insert({",
      "/workspaces/sabo-pool-v12/supabase/functions/rank-request-notification/index.ts:        .from('notifications')",
      "/workspaces/sabo-pool-v12/supabase/functions/rank-request-notification/index.ts:        .from('notifications')",
      "/workspaces/sabo-pool-v12/supabase/functions/send-notification/index.ts:        .from('notifications')",
      "/workspaces/sabo-pool-v12/supabase/functions/auto-rank-promotion/index.ts:        .from('notifications')",
      "/workspaces/sabo-pool-v12/supabase/functions/auto-rank-promotion/index.ts:      await supabase.from('notifications').insert(adminNotifications);",
      "/workspaces/sabo-pool-v12/supabase/functions/challenge-score-update/index.ts:      await supabase.from('notifications').insert({",
      "/workspaces/sabo-pool-v12/supabase/functions/challenge-score-update/index.ts:      await supabase.from('notifications').insert({",
      "/workspaces/sabo-pool-v12/supabase/functions/tournament-reminder-system/index.ts:            .from('notifications')"
    ],
    "system_events": [],
    "analytics_events": [
      "/workspaces/sabo-pool-v12/packages/shared-business/src/analytics/analytics-system.ts:        .from('analytics_events')",
      "/workspaces/sabo-pool-v12/apps/sabo-user/src/lib/analyticsTracker.ts:      await supabase.from('analytics_events' as any).insert({",
      "/workspaces/sabo-pool-v12/apps/sabo-user/src/lib/analyticsTracker.ts:      await supabase.from('analytics_events' as any).insert(formattedEvents);"
    ],
    "achievements": [],
    "leaderboards": [],
    "settings": [
      "/workspaces/sabo-pool-v12/packages/shared-business/src/club/club-management.ts:        total_tables: 0, // TODO: Get from club settings",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/club/club-management.ts:        .from('club_settings')",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/club/club-management.ts:        .from('club_settings')",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/user/user-settings.ts:        .from('user_settings')",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/user/user-settings.ts:        .from('user_settings')",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/user/user-settings.ts:        .from('notification_settings')",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/user/user-settings.ts:        .from('notification_settings')",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/user/user-settings.ts:      await this.supabase.from('user_settings').delete().eq('user_id', userId);",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/user/user-settings.ts:      await this.supabase.from('notification_settings').delete().eq('user_id', userId);",
      "/workspaces/sabo-pool-v12/packages/shared-business/src/user/index.ts:export * from './user-settings';"
    ]
  },
  "schema_files": [],
  "migration_files": [
    "/workspaces/sabo-pool-v12/supabase/migrations/00000000000001_initial_setup.sql",
    "/workspaces/sabo-pool-v12/database_migration/migrations/006_advanced_validation.sql",
    "/workspaces/sabo-pool-v12/database_migration/migrations/002_validation_scripts.sql",
    "/workspaces/sabo-pool-v12/database_migration/migrations/012_rollback_system.sql",
    "/workspaces/sabo-pool-v12/database_migration/migrations/003_backward_compatibility.sql",
    "/workspaces/sabo-pool-v12/database_migration/migrations/007_backward_compatibility.sql",
    "/workspaces/sabo-pool-v12/database_migration/migrations/006_metrics_extension.sql",
    "/workspaces/sabo-pool-v12/database_migration/migrations/011_deployment_automation.sql",
    "/workspaces/sabo-pool-v12/database_migration/migrations/008_advanced_optimizations.sql",
    "/workspaces/sabo-pool-v12/database_migration/migrations/014_maintenance_automation.sql",
    "/workspaces/sabo-pool-v12/database_migration/migrations/010_performance_monitoring.sql",
    "/workspaces/sabo-pool-v12/database_migration/migrations/013_monitoring_system.sql",
    "/workspaces/sabo-pool-v12/database_migration/migrations/015_business_intelligence.sql",
    "/workspaces/sabo-pool-v12/database_migration/migrations/000_optimized_schema.sql",
    "/workspaces/sabo-pool-v12/scripts/deploy-season-history.sql",
    "/workspaces/sabo-pool-v12/scripts/deploy-current-season.sql",
    "/workspaces/sabo-pool-v12/demo-data/clubs_demo.sql",
    "/workspaces/sabo-pool-v12/demo-data/ranking_demo.sql",
    "/workspaces/sabo-pool-v12/demo-data/tournaments_demo.sql",
    "/workspaces/sabo-pool-v12/demo-data/wallet_demo.sql"
  ],
  "supabase_types": null
}